-- 测试数据初始化脚本
USE health_manager;

-- 清空现有数据（如果需要）
SET FOREIGN_KEY_CHECKS = 0;
TRUNCATE TABLE `user`;
TRUNCATE TABLE `health_data`;
TRUNCATE TABLE `task`;
TRUNCATE TABLE `exercise_record`;
TRUNCATE TABLE `exercise_route`;
TRUNCATE TABLE `heart_rate_record`;
TRUNCATE TABLE `meditation_category`;
TRUNCATE TABLE `meditation_course`;
TRUNCATE TABLE `meditation_record`;
TRUNCATE TABLE `activity_stats`;
SET FOREIGN_KEY_CHECKS = 1;

-- 插入用户数据
INSERT INTO `user` (`id`, `open_id`, `nick_name`, `avatar_url`, `gender`, `phone`, `create_time`, `update_time`) VALUES
(1, 'wx_openid_001', '张三', 'https://example.com/avatars/zhangsan.jpg', 1, '13800138001', '2023-01-01 10:00:00', '2023-01-01 10:00:00'),
(2, 'wx_openid_002', '李四', 'https://example.com/avatars/lisi.jpg', 1, '13800138002', '2023-01-02 11:00:00', '2023-01-02 11:00:00'),
(3, 'wx_openid_003', '王五', 'https://example.com/avatars/wangwu.jpg', 1, '13800138003', '2023-01-03 12:00:00', '2023-01-03 12:00:00'),
(4, 'wx_openid_004', '赵六', 'https://example.com/avatars/zhaoliu.jpg', 1, '13800138004', '2023-01-04 13:00:00', '2023-01-04 13:00:00'),
(5, 'wx_openid_005', '小红', 'https://example.com/avatars/xiaohong.jpg', 2, '13800138005', '2023-01-05 14:00:00', '2023-01-05 14:00:00');

-- 插入健康数据
INSERT INTO `health_data` (`user_id`, `steps`, `heart_rate`, `sleep_hours`, `calories`, `record_date`, `create_time`, `update_time`) VALUES
(1, 8500, 72, 7.5, 2100, '2023-03-01', '2023-03-01 23:00:00', '2023-03-01 23:00:00'),
(1, 9200, 75, 8.0, 2300, '2023-03-02', '2023-03-02 23:00:00', '2023-03-02 23:00:00'),
(1, 7800, 70, 6.5, 1900, '2023-03-03', '2023-03-03 23:00:00', '2023-03-03 23:00:00'),
(1, 10500, 68, 7.8, 2500, '2023-03-04', '2023-03-04 23:00:00', '2023-03-04 23:00:00'),
(1, 6500, 72, 8.2, 1800, '2023-03-05', '2023-03-05 23:00:00', '2023-03-05 23:00:00'),
(2, 7500, 68, 6.8, 1850, '2023-03-01', '2023-03-01 23:00:00', '2023-03-01 23:00:00'),
(2, 8100, 70, 7.2, 2000, '2023-03-02', '2023-03-02 23:00:00', '2023-03-02 23:00:00'),
(3, 9800, 65, 8.5, 2400, '2023-03-01', '2023-03-01 23:00:00', '2023-03-01 23:00:00'),
(3, 10200, 67, 8.0, 2500, '2023-03-02', '2023-03-02 23:00:00', '2023-03-02 23:00:00'),
(4, 5500, 75, 6.0, 1500, '2023-03-01', '2023-03-01 23:00:00', '2023-03-01 23:00:00');

-- 插入任务数据
INSERT INTO `task` (`user_id`, `title`, `description`, `type`, `completed`, `task_date`, `create_time`, `update_time`) VALUES
(1, '晨跑5公里', '早上6点起床，沿着小区跑步5公里', 'exercise', 1, '2023-03-01', '2023-03-01 06:00:00', '2023-03-01 07:00:00'),
(1, '冥想练习', '使用APP进行15分钟的冥想练习', 'meditation', 1, '2023-03-01', '2023-03-01 20:00:00', '2023-03-01 20:20:00'),
(1, '瑜伽课程', '参加线上瑜伽课程30分钟', 'exercise', 0, '2023-03-02', '2023-03-02 18:00:00', '2023-03-02 18:00:00'),
(2, '力量训练', '进行30分钟的力量训练，包括俯卧撑和深蹲', 'exercise', 1, '2023-03-01', '2023-03-01 18:00:00', '2023-03-01 18:40:00'),
(2, '放松冥想', '睡前进行10分钟的放松冥想', 'meditation', 0, '2023-03-02', '2023-03-02 22:00:00', '2023-03-02 22:00:00'),
(3, '骑行锻炼', '骑自行车环城一周，约15公里', 'exercise', 1, '2023-03-01', '2023-03-01 16:00:00', '2023-03-01 17:30:00');

-- 插入运动记录
INSERT INTO `exercise_record` (`user_id`, `type`, `name`, `duration`, `distance`, `calories`, `pace`, `exercise_date`, `exercise_time`, `notes`, `create_time`, `update_time`) VALUES
(1, 'running', '晨跑', 30, 5.2, 320, '5:46', '2023-03-01', '06:30:00', '今天感觉很好，配速有所提高', '2023-03-01 07:00:00', '2023-03-01 07:00:00'),
(1, 'yoga', '瑜伽练习', 45, NULL, 180, NULL, '2023-03-02', '18:00:00', '专注于核心和柔韧性', '2023-03-02 18:45:00', '2023-03-02 18:45:00'),
(1, 'running', '公园慢跑', 40, 6.5, 400, '6:09', '2023-03-03', '07:00:00', '天气很好，跑得比平时远', '2023-03-03 07:40:00', '2023-03-03 07:40:00'),
(2, 'strength', '力量训练', 35, NULL, 250, NULL, '2023-03-01', '18:00:00', '完成了3组俯卧撑和深蹲', '2023-03-01 18:35:00', '2023-03-01 18:35:00'),
(2, 'cycling', '室内骑行', 45, 15.0, 350, NULL, '2023-03-02', '19:00:00', '使用动感单车，强度中等', '2023-03-02 19:45:00', '2023-03-02 19:45:00'),
(3, 'cycling', '环城骑行', 90, 25.0, 600, NULL, '2023-03-01', '16:00:00', '沿着城市公园骑行，风景很好', '2023-03-01 17:30:00', '2023-03-01 17:30:00');

-- 插入运动路线
INSERT INTO `exercise_route` (`exercise_id`, `start_lat`, `start_lng`, `end_lat`, `end_lng`, `polyline`, `create_time`, `update_time`) VALUES
(1, 39.908823, 116.397470, 39.915123, 116.403568, '[{"lat":39.908823,"lng":116.397470},{"lat":39.910542,"lng":116.399315},{"lat":39.912761,"lng":116.401461},{"lat":39.915123,"lng":116.403568}]', '2023-03-01 07:00:00', '2023-03-01 07:00:00'),
(3, 39.908823, 116.397470, 39.918234, 116.407890, '[{"lat":39.908823,"lng":116.397470},{"lat":39.911234,"lng":116.400123},{"lat":39.914567,"lng":116.403456},{"lat":39.918234,"lng":116.407890}]', '2023-03-03 07:40:00', '2023-03-03 07:40:00'),
(5, 31.230416, 121.473701, 31.235678, 121.480123, '[{"lat":31.230416,"lng":121.473701},{"lat":31.232345,"lng":121.475678},{"lat":31.234567,"lng":121.478901},{"lat":31.235678,"lng":121.480123}]', '2023-03-02 19:45:00', '2023-03-02 19:45:00'),
(6, 22.543099, 114.057868, 22.551234, 114.066789, '[{"lat":22.543099,"lng":114.057868},{"lat":22.545678,"lng":114.060123},{"lat":22.548765,"lng":114.063456},{"lat":22.551234,"lng":114.066789}]', '2023-03-01 17:30:00', '2023-03-01 17:30:00');

-- 插入心率记录
INSERT INTO `heart_rate_record` (`exercise_id`, `time_point`, `value`, `create_time`) VALUES
(1, 0, 75, '2023-03-01 07:00:00'),
(1, 300, 120, '2023-03-01 07:00:00'),
(1, 600, 145, '2023-03-01 07:00:00'),
(1, 900, 150, '2023-03-01 07:00:00'),
(1, 1200, 155, '2023-03-01 07:00:00'),
(1, 1500, 140, '2023-03-01 07:00:00'),
(1, 1800, 130, '2023-03-01 07:00:00'),
(3, 0, 72, '2023-03-03 07:40:00'),
(3, 300, 115, '2023-03-03 07:40:00'),
(3, 600, 140, '2023-03-03 07:40:00'),
(3, 900, 148, '2023-03-03 07:40:00'),
(3, 1200, 152, '2023-03-03 07:40:00'),
(3, 1500, 145, '2023-03-03 07:40:00'),
(3, 1800, 135, '2023-03-03 07:40:00'),
(3, 2100, 125, '2023-03-03 07:40:00'),
(3, 2400, 115, '2023-03-03 07:40:00');

-- 插入冥想分类
INSERT INTO `meditation_category` (`id`, `name`, `description`, `image`, `create_time`, `update_time`) VALUES
(1, '减压放松', '帮助缓解压力和焦虑的冥想课程', 'https://example.com/meditation/relax.jpg', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(2, '专注力提升', '提高注意力和集中力的冥想练习', 'https://example.com/meditation/focus.jpg', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(3, '睡眠改善', '帮助入睡和提高睡眠质量的冥想', 'https://example.com/meditation/sleep.jpg', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(4, '情绪管理', '调节情绪和增强情绪意识的冥想', 'https://example.com/meditation/emotion.jpg', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(5, '正念生活', '培养日常正念意识的冥想练习', 'https://example.com/meditation/mindfulness.jpg', '2023-01-01 00:00:00', '2023-01-01 00:00:00');

-- 插入冥想课程
INSERT INTO `meditation_course` (`id`, `title`, `description`, `duration`, `image`, `audio_url`, `category_id`, `steps`, `create_time`, `update_time`) VALUES
(1, '工作减压', '适合在工作间隙进行的短时间减压冥想', 10, 'https://example.com/meditation/courses/work_relax.jpg', 'https://example.com/meditation/audio/work_relax.mp3', 1, '[{"step":1,"title":"准备","content":"找一个安静的地方坐下"},{"step":2,"title":"呼吸","content":"专注于呼吸3分钟"},{"step":3,"title":"身体扫描","content":"关注身体各部位的感受"},{"step":4,"title":"结束","content":"深呼吸，慢慢睁开眼睛"}]', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(2, '晨间专注', '早晨提升专注力的冥想练习', 15, 'https://example.com/meditation/courses/morning_focus.jpg', 'https://example.com/meditation/audio/morning_focus.mp3', 2, '[{"step":1,"title":"准备","content":"采取舒适的坐姿"},{"step":2,"title":"呼吸","content":"关注呼吸5分钟"},{"step":3,"title":"思维观察","content":"观察思维的产生和消失"},{"step":4,"title":"专注训练","content":"将注意力集中在一个对象上"},{"step":5,"title":"结束","content":"带着专注力进入新的一天"}]', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(3, '深度睡眠', '帮助快速入睡的冥想引导', 20, 'https://example.com/meditation/courses/deep_sleep.jpg', 'https://example.com/meditation/audio/deep_sleep.mp3', 3, '[{"step":1,"title":"准备","content":"躺在床上，放松身体"},{"step":2,"title":"呼吸放松","content":"进行深呼吸放松全身"},{"step":3,"title":"身体扫描","content":"从头到脚逐渐放松身体各部位"},{"step":4,"title":"意象引导","content":"想象平静的场景"},{"step":5,"title":"入睡","content":"保持平静的呼吸，自然入睡"}]', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(4, '情绪平衡', '帮助调节情绪的冥想练习', 15, 'https://example.com/meditation/courses/emotion_balance.jpg', 'https://example.com/meditation/audio/emotion_balance.mp3', 4, '[{"step":1,"title":"准备","content":"找一个安静的地方坐下"},{"step":2,"title":"情绪觉察","content":"觉察当前的情绪状态"},{"step":3,"title":"接纳情绪","content":"不评判地接纳当前情绪"},{"step":4,"title":"情绪转化","content":"通过呼吸转化情绪能量"},{"step":5,"title":"结束","content":"带着平静的心态结束冥想"}]', '2023-01-01 00:00:00', '2023-01-01 00:00:00'),
(5, '日常正念', '培养日常生活中的正念意识', 10, 'https://example.com/meditation/courses/daily_mindfulness.jpg', 'https://example.com/meditation/audio/daily_mindfulness.mp3', 5, '[{"step":1,"title":"准备","content":"在日常活动中暂停片刻"},{"step":2,"title":"感官觉知","content":"觉察当下的感官体验"},{"step":3,"title":"正念行动","content":"有意识地完成一个简单动作"},{"step":4,"title":"结束","content":"将正念带入接下来的活动中"}]', '2023-01-01 00:00:00', '2023-01-01 00:00:00');

-- 插入冥想记录
INSERT INTO `meditation_record` (`user_id`, `course_id`, `duration`, `meditation_date`, `meditation_time`, `create_time`, `update_time`) VALUES
(1, 1, 10, '2023-03-01', '20:00:00', '2023-03-01 20:10:00', '2023-03-01 20:10:00'),
(1, 3, 20, '2023-03-02', '22:30:00', '2023-03-02 22:50:00', '2023-03-02 22:50:00'),
(1, 2, 15, '2023-03-03', '07:00:00', '2023-03-03 07:15:00', '2023-03-03 07:15:00'),
(1, 4, 15, '2023-03-04', '19:00:00', '2023-03-04 19:15:00', '2023-03-04 19:15:00'),
(1, 5, 10, '2023-03-05', '12:00:00', '2023-03-05 12:10:00', '2023-03-05 12:10:00'),
(2, 1, 10, '2023-03-01', '12:30:00', '2023-03-01 12:40:00', '2023-03-01 12:40:00'),
(2, 3, 18, '2023-03-02', '23:00:00', '2023-03-02 23:18:00', '2023-03-02 23:18:00'),
(3, 4, 15, '2023-03-01', '21:00:00', '2023-03-01 21:15:00', '2023-03-01 21:15:00'),
(4, 5, 10, '2023-03-01', '08:00:00', '2023-03-01 08:10:00', '2023-03-01 08:10:00'),
(5, 2, 15, '2023-03-01', '06:30:00', '2023-03-01 06:45:00', '2023-03-01 06:45:00');

-- 插入活动统计数据
INSERT INTO `activity_stats` (`user_id`, `period_type`, `period_value`, `exercise_sessions`, `exercise_minutes`, `exercise_calories`, `exercise_distance`, `meditation_sessions`, `meditation_minutes`, `meditation_streak`, `steps_total`, `steps_daily_average`, `steps_best_day`, `create_time`, `update_time`) VALUES
(1, 'week', '2023-W09', 3, 115, 900, 11.7, 5, 70, 5, 42500, 8500, '2023-03-04', '2023-03-05 23:59:59', '2023-03-05 23:59:59'),
(1, 'month', '2023-03', 3, 115, 900, 11.7, 5, 70, 5, 42500, 8500, '2023-03-04', '2023-03-05 23:59:59', '2023-03-05 23:59:59'),
(2, 'week', '2023-W09', 2, 80, 600, 15.0, 2, 28, 2, 15600, 7800, '2023-03-02', '2023-03-02 23:59:59', '2023-03-02 23:59:59'),
(2, 'month', '2023-03', 2, 80, 600, 15.0, 2, 28, 2, 15600, 7800, '2023-03-02', '2023-03-02 23:59:59', '2023-03-02 23:59:59'),
(3, 'week', '2023-W09', 1, 90, 600, 25.0, 1, 15, 1, 20000, 10000, '2023-03-01', '2023-03-02 23:59:59', '2023-03-02 23:59:59'),
(3, 'month', '2023-03', 1, 90, 600, 25.0, 1, 15, 1, 20000, 10000, '2023-03-01', '2023-03-02 23:59:59', '2023-03-02 23:59:59'),
(4, 'week', '2023-W09', 0, 0, 0, 0.0, 1, 10, 1, 5500, 5500, '2023-03-01', '2023-03-01 23:59:59', '2023-03-01 23:59:59'),
(4, 'month', '2023-03', 0, 0, 0, 0.0, 1, 10, 1, 5500, 5500, '2023-03-01', '2023-03-01 23:59:59', '2023-03-01 23:59:59'),
(5, 'week', '2023-W09', 0, 0, 0, 0.0, 1, 15, 1, 0, 0, NULL, '2023-03-01 23:59:59', '2023-03-01 23:59:59'),
(5, 'month', '2023-03', 0, 0, 0, 0.0, 1, 15, 1, 0, 0, NULL, '2023-03-01 23:59:59', '2023-03-01 23:59:59'); 